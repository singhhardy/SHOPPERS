<nav class="navbar navbar-expand-lg bg-white border-bottom fixed-top">
    <div class="container-fluid container">
      <a class="navbar-brand fw-bold fs-3" [routerLink]="''">
        <img src="assets/S.png" width="40px" class="rounded-2"> <span class="ms-1">HOPPERS</span> </a>
      <button class="navbar-toggler" type="button" (click)="isNavbarCollapsed = !isNavbarCollapsed">
        <span class="navbar-toggler-icon"></span>
      </button>
  
      <div [ngbCollapse]="isNavbarCollapsed" class="collapse navbar-collapse">
        <ul class="navbar-nav w-100 ms-auto mb-2 mb-lg-0">
            <li class="nav-item w-100">
                <div class="btn-group w-75 h-100 mt-2 mt-md-0 searchbox">
                    <input class="form-control w-100 border-0 rounded-0  rounded-start bg-body searchbar" placeholder="Search...">
                    <button class="btn primary-btn"><i class="fa fa-search"></i></button>
                </div>
            </li>
        </ul>
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item me-2">
            <a class="nav-link text-nowrap" aria-current="page" [routerLink]="'/cart'"><i class="fa-solid fa-cart-shopping"></i> Cart <span *ngIf="cartItemsCount > 0" class="p-2 py-0 rounded-2 primary-bg text-light">{{ cartItemsCount }}</span></a>
          </li>
          <li class="nav-item dropdown" ngbDropdown>
            <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" ngbDropdownToggle>
              <i class="fa-regular fa-user"></i> 
              {{ (user$ | async)?.firstName || (user$ | async)?.email || 'User' }}  
              <i class="fa-solid fa-angle-down"></i>            </a>
            <ul class="dropdown-menu border-0  shadow-lg" aria-labelledby="navbarDropdown" ngbDropdownMenu>
                <li *ngIf="!auth.isLoggedIn()"><a class="dropdown-item primary-text" [routerLink]="'/login'"><i class="fa fa-user text-muted menu-icon"></i> <span class="side-text">Login</span></a></li>
                <li *ngIf="!auth.isLoggedIn()"> <a class="dropdown-item secondary-text" [routerLink]="'/sign-up'"><i class="fa-solid text-muted fa-address-book menu-icon"></i> <span class="side-text">Sign Up</span></a></li>
                <li><a class="dropdown-item" [routerLink]="'/order-list'"><i class="fa-solid fa-list-ul menu-icon text-muted"></i> <span class="side-text">Orders</span></a></li>
                <li><a class="dropdown-item" [routerLink]="'/profile'" *ngIf="auth.isLoggedIn()"><i class="fa-solid fa-user menu-icon text-muted"></i> <span class="side-text">Profile</span></a></li>
                <hr class="m-2" *ngIf="auth.isLoggedIn()">
                <li *ngIf="auth.isLoggedIn()"><a class="dropdown-item" ><i class="fa-solid fa-arrow-right-from-bracket menu-icon text-muted"></i> <span class="side-text" (click)="signOut()">Logout</span> </a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>